Задача 21

Имя входного файла: in.txt
Имя выходного файла: out.txt
Ограничение по времени: от 1 с до 2 с
Ограничение по памяти: нет

Найти среднюю по значению из вершин дерева, у которых высоты поддеревьев равны, а число потомков в правом и левом поддеревьях отличается. Удалить её (правым удалением), если такая вершина существует.

Если у вершины отсутствует некоторое поддерево, то его высоту полагаем равной −1, а число вершин этого поддерева — 0.

Формат входных данных
Входной файл содержит последовательность чисел — ключи вершин в порядке добавления в дерево.

Формат выходных данных
Выходной файл должен содержать последовательность ключей вершин, полученную прямым левым обходом итогового дерева.

Пример

in.txt:
3
2
1
5
4
6

out.txt:
4
2
1
5
6